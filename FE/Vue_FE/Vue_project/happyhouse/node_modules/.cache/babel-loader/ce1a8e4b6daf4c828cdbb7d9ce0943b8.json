{"remainingRequest":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/babel-loader/lib/index.js!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/src/components/notice/comment/CommentWrite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/src/components/notice/comment/CommentWrite.vue","mtime":1637719971700},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/babel.config.js","mtime":1637211990973},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2plb24tdW5namFlL0Rlc2t0b3Avd29vbmcvQ29kaW5nL1N0dWR5L0ZFL1Z1ZV9GRS9WdWVfcHJvamVjdC9oYXBweWhvdXNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IGh0dHAgZnJvbSAiQC91dGlsL2h0dHAtY29tbW9uIjsKaW1wb3J0IHsgd3JpdGVDb21tZW50LCBnZXRDb21tZW50LCBtb2RpZnlDb21tZW50IH0gZnJvbSAiQC9hcGkvY29tbWVudCI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKdmFyIG1lbWJlclN0b3JlID0gIm1lbWJlclN0b3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjb21tZW50d3JpdGUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDssKjtm4Qg7J6R7ISx7J6QIOydtOumhOydgCDroZzqt7jsnbgg6rWs7ZiE7ZuEIOuhnOq3uOyduO2VnCDsgqzsmqnsnpDroZwg67CU6r6864ukLgogICAgICB1c2VyaWQ6ICIiLAogICAgICBjb21tZW50OiAiIiwKICAgICAgYXJ0aWNsZU5vOiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKG1lbWJlclN0b3JlLCBbImNoZWNrVXNlckluZm8iXSkpLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygiY3JlYXRlZF9DVyIpOwogICAgY29uc29sZS5sb2codGhpcy5jaGVja1VzZXJJbmZvKTsKICAgIHRoaXMudXNlcmlkID0gdGhpcy5jaGVja1VzZXJJbmZvLnVzZXJJZDsgLy8gY29uc29sZS5sb2coIuuplOuhsSIpOwogICAgLy8gY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zLmFydGljbGVubyk7CgogICAgdGhpcy5hcnRpY2xlTm8gPSB0aGlzLiRyb3V0ZS5wYXJhbXMuYXJ0aWNsZW5vOwogIH0sCiAgcHJvcHM6IHsKICAgIGFydGljbGVubzogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBtb2RpZnlDb21tZW50OiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVnaXN0Q29tbWVudDogZnVuY3Rpb24gcmVnaXN0Q29tbWVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHdyaXRlQ29tbWVudCh7CiAgICAgICAgdXNlcmlkOiB0aGlzLnVzZXJpZCwKICAgICAgICBjb21tZW50OiB0aGlzLmNvbW1lbnQsCiAgICAgICAgYXJ0aWNsZW5vOiB0aGlzLmFydGljbGVObwogICAgICB9LCBmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgIHZhciBtc2cgPSAi65Ox66GdIOyymOumrOyLnCDrrLjsoJzqsIAg67Cc7IOd7ZaI7Iq164uI64ukLiI7CgogICAgICAgIGlmIChkYXRhID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgIG1zZyA9ICLrk7HroZ3snbQg7JmE66OM65CY7JeI7Iq164uI64ukLiI7CiAgICAgICAgfQoKICAgICAgICBhbGVydChtc2cpOyAvLyDsnpHshLHquIAg7KeA7Jqw6riwCgogICAgICAgIF90aGlzLmNvbW1lbnQgPSAiIjsgLy8g64+E7ISc7Y+JKOuMk+q4gCkg7Ja76riwLgoKICAgICAgICBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goZ2V0Q29tbWVudCgpKTsgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldENvbW1lbnRzIiwgYC9jb21tZW50LyR7dGhpcy5hcnRpY2xlbm99YCk7CgogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVDb21tZW50OiBmdW5jdGlvbiB1cGRhdGVDb21tZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIG1vZGlmeUNvbW1lbnQoewogICAgICAgIHFuYV9tZW1vbm86IHRoaXMubW9kaWZ5Q29tbWVudC5xbmFfbWVtb25vLAogICAgICAgIGNvbW1lbnQ6IHRoaXMubW9kaWZ5Q29tbWVudC5jb21tZW50CiAgICAgIH0sIGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKICAgICAgICB2YXIgbXNnID0gIuyImOyglSDsspjrpqzsi5wg66y47KCc6rCAIOuwnOyDne2WiOyKteuLiOuLpC4iOwoKICAgICAgICBpZiAoZGF0YSA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICBtc2cgPSAi7IiY7KCV7J20IOyZhOujjOuQmOyXiOyKteuLiOuLpC4iOwogICAgICAgIH0KCiAgICAgICAgYWxlcnQobXNnKTsgLy8g64+E7ISc7Y+JKOuMk+q4gCkg7Ja76riwLgoKICAgICAgICBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKGdldENvbW1lbnQoKSk7CgogICAgICAgIF90aGlzMi4kZW1pdCgibW9kaWZ5LWNvbW1lbnQtY2FuY2VsIiwgZmFsc2UpOwogICAgICB9KTsKICAgIH0gLy8gdXBkYXRlQ29tbWVudENhbmNlbCgpIHsKICAgIC8vICAgdGhpcy4kZW1pdCgibW9kaWZ5LWNvbW1lbnQtY2FuY2VsIiwgZmFsc2UpOwogICAgLy8gfSwKCiAgfQp9Ow=="},{"version":3,"sources":["CommentWrite.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA,SAAA,YAAA,EAAA,UAAA,EAAA,aAAA,QAAA,eAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,IAAA,WAAA,GAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA,WAAA,EAAA,CAAA,eAAA,CAAA,CADA,CAXA;AAcA,EAAA,OAdA,qBAcA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,YAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,aAAA;AACA,SAAA,MAAA,GAAA,KAAA,aAAA,CAAA,MAAA,CAHA,CAIA;AACA;;AACA,SAAA,SAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,SAAA;AACA,GArBA;AAsBA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA,KADA;AAEA,IAAA,aAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA;AAFA,GAtBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,MAAA,YAAA,CACA;AACA,QAAA,MAAA,EAAA,KAAA,MADA;AAEA,QAAA,OAAA,EAAA,KAAA,OAFA;AAGA,QAAA,SAAA,EAAA,KAAA;AAHA,OADA,EAMA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AACA,YAAA,GAAA,GAAA,oBAAA;;AACA,YAAA,IAAA,KAAA,SAAA,EAAA;AACA,UAAA,GAAA,GAAA,cAAA;AACA;;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,CALA,CAMA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,EAAA,CAPA,CASA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,EAVA,CAWA;;AACA,OAlBA,CAAA;AAoBA,KAtBA;AAuBA,IAAA,aAvBA,2BAuBA;AAAA;;AACA,MAAA,aAAA,CACA;AACA,QAAA,UAAA,EAAA,KAAA,aAAA,CAAA,UADA;AAEA,QAAA,OAAA,EAAA,KAAA,aAAA,CAAA;AAFA,OADA,EAKA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AACA,YAAA,GAAA,GAAA,oBAAA;;AACA,YAAA,IAAA,KAAA,SAAA,EAAA;AACA,UAAA,GAAA,GAAA,cAAA;AACA;;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,CALA,CAOA;;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,uBAAA,EAAA,KAAA;AACA,OAfA,CAAA;AAiBA,KAzCA,CA0CA;AACA;AACA;;AA5CA;AA1BA,CAAA","sourcesContent":["<template>\r\n  <b-row v-if=\"this.modifyComment != null\" class=\"mb-3 mt-2\">\r\n    <b-col cols=\"10\">\r\n      <b-form-textarea\r\n        id=\"comment\"\r\n        placeholder=\"도서평 입력...\"\r\n        v-model=\"modifyComment.comment\"\r\n        rows=\"2\"\r\n      ></b-form-textarea>\r\n    </b-col>\r\n    <b-col>\r\n      <b-button variant=\"outline-info\" class=\"mr-2 h-100\" @click=\"updateComment\"\r\n        >수정</b-button\r\n      >\r\n      <b-button\r\n        variant=\"outline-danger\"\r\n        class=\"h-100\"\r\n        @click=\"updateCommentCancel\"\r\n        >취소</b-button\r\n      >\r\n    </b-col>\r\n  </b-row>\r\n  <b-row v-else class=\"mb-3 mt-2\">\r\n    <b-col cols=\"11\">\r\n      <b-form-textarea\r\n        id=\"comment\"\r\n        placeholder=\"댓글 입력...\"\r\n        v-model=\"comment\"\r\n        rows=\"2\"\r\n      ></b-form-textarea>\r\n    </b-col>\r\n    <b-col\r\n      ><b-button variant=\"dark\" class=\"h-100\" @click=\"registComment\"\r\n        >등록</b-button\r\n      ></b-col\r\n    >\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n// import http from \"@/util/http-common\";\r\nimport { writeComment, getComment, modifyComment } from \"@/api/comment\";\r\nimport { mapGetters } from \"vuex\";\r\nconst memberStore = \"memberStore\";\r\n\r\nexport default {\r\n  name: \"commentwrite\",\r\n  data() {\r\n    return {\r\n      // 차후 작성자 이름은 로그인 구현후 로그인한 사용자로 바꾼다.\r\n      userid: \"\",\r\n      comment: \"\",\r\n      articleNo: \"\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters(memberStore, [\"checkUserInfo\"]),\r\n  },\r\n  created() {\r\n    console.log(\"created_CW\");\r\n    console.log(this.checkUserInfo);\r\n    this.userid = this.checkUserInfo.userId;\r\n    // console.log(\"메롱\");\r\n    // console.log(this.$route.params.articleno);\r\n    this.articleNo = this.$route.params.articleno;\r\n  },\r\n  props: {\r\n    articleno: { type: String },\r\n    modifyComment: { type: Object },\r\n  },\r\n  methods: {\r\n    registComment() {\r\n      writeComment(\r\n        {\r\n          userid: this.userid,\r\n          comment: this.comment,\r\n          articleno: this.articleNo,\r\n        },\r\n        ({ data }) => {\r\n          let msg = \"등록 처리시 문제가 발생했습니다.\";\r\n          if (data === \"success\") {\r\n            msg = \"등록이 완료되었습니다.\";\r\n          }\r\n          alert(msg);\r\n          // 작성글 지우기\r\n          this.comment = \"\";\r\n\r\n          // 도서평(댓글) 얻기.\r\n          this.$store.dispatch(getComment());\r\n          // this.$store.dispatch(\"getComments\", `/comment/${this.articleno}`);\r\n        }\r\n      );\r\n    },\r\n    updateComment() {\r\n      modifyComment(\r\n        {\r\n          qna_memono: this.modifyComment.qna_memono,\r\n          comment: this.modifyComment.comment,\r\n        },\r\n        ({ data }) => {\r\n          let msg = \"수정 처리시 문제가 발생했습니다.\";\r\n          if (data === \"success\") {\r\n            msg = \"수정이 완료되었습니다.\";\r\n          }\r\n          alert(msg);\r\n\r\n          // 도서평(댓글) 얻기.\r\n          this.$store.dispatch(getComment());\r\n          this.$emit(\"modify-comment-cancel\", false);\r\n        }\r\n      );\r\n    },\r\n    // updateCommentCancel() {\r\n    //   this.$emit(\"modify-comment-cancel\", false);\r\n    // },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components/notice/comment"}]}