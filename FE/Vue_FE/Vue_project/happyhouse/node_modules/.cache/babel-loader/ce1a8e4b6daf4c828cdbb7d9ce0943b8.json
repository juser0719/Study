{"remainingRequest":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/babel-loader/lib/index.js!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/src/components/notice/comment/CommentWrite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/src/components/notice/comment/CommentWrite.vue","mtime":1637760094531},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/babel.config.js","mtime":1637211990973},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_project/happyhouse/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2plb24tdW5namFlL0Rlc2t0b3Avd29vbmcvQ29kaW5nL1N0dWR5L0ZFL1Z1ZV9GRS9WdWVfcHJvamVjdC9oYXBweWhvdXNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IGh0dHAgZnJvbSAiQC91dGlsL2h0dHAtY29tbW9uIjsKaW1wb3J0IHsgd3JpdGVDb21tZW50LCBnZXRDb21tZW50LCBtb2RpZnlDb21tZW50IH0gZnJvbSAiQC9hcGkvY29tbWVudCI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKdmFyIG1lbWJlclN0b3JlID0gIm1lbWJlclN0b3JlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjb21tZW50d3JpdGUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDssKjtm4Qg7J6R7ISx7J6QIOydtOumhOydgCDroZzqt7jsnbgg6rWs7ZiE7ZuEIOuhnOq3uOyduO2VnCDsgqzsmqnsnpDroZwg67CU6r6864ukLgogICAgICB1c2VyaWQ6ICIiLAogICAgICBjb21tZW50OiAiIiwKICAgICAgbm90aWNlTm86ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMobWVtYmVyU3RvcmUsIFsiY2hlY2tVc2VySW5mbyJdKSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJjcmVhdGVkX0NXIik7CiAgICBjb25zb2xlLmxvZyh0aGlzLmNoZWNrVXNlckluZm8pOwogICAgdGhpcy51c2VyaWQgPSB0aGlzLmNoZWNrVXNlckluZm8udXNlcmlkOwogICAgdGhpcy5ub3RpY2VObyA9IHRoaXMuJHJvdXRlLnBhcmFtcy5ub3RpY2VubzsKICB9LAogIHByb3BzOiB7CiAgICBub3RpY2VubzogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBtb2RpZnlDb21tZW50OiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVnaXN0Q29tbWVudDogZnVuY3Rpb24gcmVnaXN0Q29tbWVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbSA9IHsKICAgICAgICB1c2VyaWQ6IHRoaXMudXNlcmlkLAogICAgICAgIGNvbW1lbnQ6IHRoaXMuY29tbWVudCwKICAgICAgICBub3RpY2VubzogdGhpcy5ub3RpY2VObwogICAgICB9OwogICAgICB3cml0ZUNvbW1lbnQocGFyYW0sIGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgdmFyIG1zZyA9ICLrk7HroZ0g7LKY66as7IucIOusuOygnOqwgCDrsJzsg53tlojsirXri4jri6QuIjsKCiAgICAgICAgaWYgKGRhdGEgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgbXNnID0gIuuTseuhneydtCDsmYTro4zrkJjsl4jsirXri4jri6QuIjsKICAgICAgICB9CgogICAgICAgIGFsZXJ0KG1zZyk7IC8vIOyekeyEseq4gCDsp4DsmrDquLAKCiAgICAgICAgX3RoaXMuY29tbWVudCA9ICIiOyAvLyDrj4TshJztj4ko64yT6riAKSDslrvquLAuCgogICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaChnZXRDb21tZW50KCkpOyAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0Q29tbWVudHMiLCBgL2NvbW1lbnQvJHt0aGlzLmFydGljbGVub31gKTsKCiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZUNvbW1lbnQ6IGZ1bmN0aW9uIHVwZGF0ZUNvbW1lbnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgbW9kaWZ5Q29tbWVudCh7CiAgICAgICAgY29tbWVudF9ubzogdGhpcy5tb2RpZnlDb21tZW50LmNvbW1lbnRfbm8sCiAgICAgICAgbm90aWNlbm86IHRoaXMubW9kaWZ5Q29tbWVudC5ub3RpY2VubywKICAgICAgICBjb21tZW50OiB0aGlzLm1vZGlmeUNvbW1lbnQuY29tbWVudAogICAgICB9LCBmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgICAgdmFyIG1zZyA9ICLsiJjsoJUg7LKY66as7IucIOusuOygnOqwgCDrsJzsg53tlojsirXri4jri6QuIjsKCiAgICAgICAgaWYgKGRhdGEgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgbXNnID0gIuyImOygleydtCDsmYTro4zrkJjsl4jsirXri4jri6QuIjsKICAgICAgICB9CgogICAgICAgIGFsZXJ0KG1zZyk7IC8vIOuPhOyEnO2PiSjrjJPquIApIOyWu+q4sC4KCiAgICAgICAgX3RoaXMyLiRzdG9yZS5kaXNwYXRjaChnZXRDb21tZW50KCkpOwoKICAgICAgICBfdGhpczIuJGVtaXQoIm1vZGlmeS1jb21tZW50LWNhbmNlbCIsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlQ29tbWVudENhbmNlbDogZnVuY3Rpb24gdXBkYXRlQ29tbWVudENhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgibW9kaWZ5LWNvbW1lbnQtY2FuY2VsIiwgZmFsc2UpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CommentWrite.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA,SAAA,YAAA,EAAA,UAAA,EAAA,aAAA,QAAA,eAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,IAAA,WAAA,GAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAWA,EAAA,QAAA,oBACA,UAAA,CAAA,WAAA,EAAA,CAAA,eAAA,CAAA,CADA,CAXA;AAcA,EAAA,OAdA,qBAcA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,YAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,aAAA;AACA,SAAA,MAAA,GAAA,KAAA,aAAA,CAAA,MAAA;AACA,SAAA,QAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,QAAA;AACA,GAnBA;AAoBA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA,KADA;AAEA,IAAA,aAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA;AAFA,GApBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,UAAA,KAAA,GAAA;AACA,QAAA,MAAA,EAAA,KAAA,MADA;AAEA,QAAA,OAAA,EAAA,KAAA,OAFA;AAGA,QAAA,QAAA,EAAA,KAAA;AAHA,OAAA;AAKA,MAAA,YAAA,CAAA,KAAA,EAAA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AACA,YAAA,GAAA,GAAA,oBAAA;;AACA,YAAA,IAAA,KAAA,SAAA,EAAA;AACA,UAAA,GAAA,GAAA,cAAA;AACA;;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,CALA,CAMA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,EAAA,CAPA,CASA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA,EAVA,CAWA;;AACA,OAZA,CAAA;AAaA,KApBA;AAqBA,IAAA,aArBA,2BAqBA;AAAA;;AACA,MAAA,aAAA,CACA;AACA,QAAA,UAAA,EAAA,KAAA,aAAA,CAAA,UADA;AAEA,QAAA,QAAA,EAAA,KAAA,aAAA,CAAA,QAFA;AAGA,QAAA,OAAA,EAAA,KAAA,aAAA,CAAA;AAHA,OADA,EAMA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AACA,YAAA,GAAA,GAAA,oBAAA;;AACA,YAAA,IAAA,KAAA,SAAA,EAAA;AACA,UAAA,GAAA,GAAA,cAAA;AACA;;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,CALA,CAOA;;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,EAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,uBAAA,EAAA,KAAA;AACA,OAhBA,CAAA;AAkBA,KAxCA;AAyCA,IAAA,mBAzCA,iCAyCA;AACA,WAAA,KAAA,CAAA,uBAAA,EAAA,KAAA;AACA;AA3CA;AAxBA,CAAA","sourcesContent":["<template>\r\n  <b-row v-if=\"this.modifyComment != null\" class=\"mb-3 mt-2\">\r\n    <b-col cols=\"10\">\r\n      <b-form-textarea\r\n        id=\"comment\"\r\n        placeholder=\"도서평 입력...\"\r\n        v-model=\"modifyComment.comment\"\r\n        rows=\"2\"\r\n      ></b-form-textarea>\r\n    </b-col>\r\n    <b-col>\r\n      <b-button variant=\"outline-info\" class=\"mr-2 h-100\" @click=\"updateComment\"\r\n        >수정</b-button\r\n      >\r\n      <b-button\r\n        variant=\"outline-danger\"\r\n        class=\"h-100\"\r\n        @click=\"updateCommentCancel\"\r\n        >취소</b-button\r\n      >\r\n    </b-col>\r\n  </b-row>\r\n  <b-row v-else class=\"mb-3 mt-2\">\r\n    <b-col cols=\"11\">\r\n      <b-form-textarea\r\n        id=\"comment\"\r\n        placeholder=\"댓글 입력...\"\r\n        v-model=\"comment\"\r\n        rows=\"2\"\r\n      ></b-form-textarea>\r\n    </b-col>\r\n    <b-col\r\n      ><b-button variant=\"dark\" class=\"h-100\" @click=\"registComment\"\r\n        >등록</b-button\r\n      ></b-col\r\n    >\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\n// import http from \"@/util/http-common\";\r\nimport { writeComment, getComment, modifyComment } from \"@/api/comment\";\r\nimport { mapGetters } from \"vuex\";\r\nconst memberStore = \"memberStore\";\r\n\r\nexport default {\r\n  name: \"commentwrite\",\r\n  data() {\r\n    return {\r\n      // 차후 작성자 이름은 로그인 구현후 로그인한 사용자로 바꾼다.\r\n      userid: \"\",\r\n      comment: \"\",\r\n      noticeNo: \"\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters(memberStore, [\"checkUserInfo\"]),\r\n  },\r\n  created() {\r\n    console.log(\"created_CW\");\r\n    console.log(this.checkUserInfo);\r\n    this.userid = this.checkUserInfo.userid;\r\n    this.noticeNo = this.$route.params.noticeno;\r\n  },\r\n  props: {\r\n    noticeno: { type: String },\r\n    modifyComment: { type: Object },\r\n  },\r\n  methods: {\r\n    registComment() {\r\n      const param = {\r\n        userid: this.userid,\r\n        comment: this.comment,\r\n        noticeno: this.noticeNo,\r\n      };\r\n      writeComment(param, ({ data }) => {\r\n        let msg = \"등록 처리시 문제가 발생했습니다.\";\r\n        if (data === \"success\") {\r\n          msg = \"등록이 완료되었습니다.\";\r\n        }\r\n        alert(msg);\r\n        // 작성글 지우기\r\n        this.comment = \"\";\r\n\r\n        // 도서평(댓글) 얻기.\r\n        this.$store.dispatch(getComment());\r\n        // this.$store.dispatch(\"getComments\", `/comment/${this.articleno}`);\r\n      });\r\n    },\r\n    updateComment() {\r\n      modifyComment(\r\n        {\r\n          comment_no: this.modifyComment.comment_no,\r\n          noticeno: this.modifyComment.noticeno,\r\n          comment: this.modifyComment.comment,\r\n        },\r\n        ({ data }) => {\r\n          let msg = \"수정 처리시 문제가 발생했습니다.\";\r\n          if (data === \"success\") {\r\n            msg = \"수정이 완료되었습니다.\";\r\n          }\r\n          alert(msg);\r\n\r\n          // 도서평(댓글) 얻기.\r\n          this.$store.dispatch(getComment());\r\n          this.$emit(\"modify-comment-cancel\", false);\r\n        }\r\n      );\r\n    },\r\n    updateCommentCancel() {\r\n      this.$emit(\"modify-comment-cancel\", false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components/notice/comment"}]}