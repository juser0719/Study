{"remainingRequest":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/babel-loader/lib/index.js!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/src/components/qna/child/CommentWrite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/src/components/qna/child/CommentWrite.vue","mtime":1637197582619},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/babel.config.js","mtime":1637027109489},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGh0dHAgZnJvbSAiQC91dGlsL2h0dHAtY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjb21tZW50d3JpdGUiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDssKjtm4Qg7J6R7ISx7J6QIOydtOumhOydgCDroZzqt7jsnbgg6rWs7ZiE7ZuEIOuhnOq3uOyduO2VnCDsgqzsmqnsnpDroZwg67CU6r6864ukLgogICAgICB1c2VyX25hbWU6ICLquYDqs4TtnawiLAogICAgICBjb21tZW50OiAiIgogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBxbkFubzogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICBtb2RpZnlDb21tZW50OiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVnaXN0Q29tbWVudDogZnVuY3Rpb24gcmVnaXN0Q29tbWVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGh0dHAucG9zdCgiL2NvbW1lbnQvIiwgewogICAgICAgIHVzZXJfbmFtZTogdGhpcy51c2VyX25hbWUsCiAgICAgICAgY29tbWVudDogdGhpcy5jb21tZW50LAogICAgICAgIHFuYW5vOiB0aGlzLnFuQW5vLAogICAgICAgIHVzZXJpZDogInNzYWZ5IgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgdmFyIG1zZyA9ICLrk7HroZ0g7LKY66as7IucIOusuOygnOqwgCDrsJzsg53tlojsirXri4jri6QuIjsKCiAgICAgICAgaWYgKGRhdGEgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgbXNnID0gIuuTseuhneydtCDsmYTro4zrkJjsl4jsirXri4jri6QuIjsKICAgICAgICB9CgogICAgICAgIGFsZXJ0KG1zZyk7IC8vIOyekeyEseq4gCDsp4DsmrDquLAKCiAgICAgICAgX3RoaXMuY29tbWVudCA9ICIiOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVDb21tZW50OiBmdW5jdGlvbiB1cGRhdGVDb21tZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGh0dHAucHV0KCIvY29tbWVudCIsIHsKICAgICAgICBjb21tZW50X25vOiB0aGlzLm1vZGlmeUNvbW1lbnQuY29tbWVudF9ubywKICAgICAgICBjb21tZW50OiB0aGlzLm1vZGlmeUNvbW1lbnQuY29tbWVudAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKICAgICAgICB2YXIgbXNnID0gIuyImOyglSDsspjrpqzsi5wg66y47KCc6rCAIOuwnOyDne2WiOyKteuLiOuLpC4iOwoKICAgICAgICBpZiAoZGF0YSA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICBtc2cgPSAi7IiY7KCV7J20IOyZhOujjOuQmOyXiOyKteuLiOuLpC4iOwogICAgICAgIH0KCiAgICAgICAgYWxlcnQobXNnKTsgLy8g64+E7ISc7Y+JKOuMk+q4gCkg7Ja76riwLgogICAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKAogICAgICAgIC8vICAgImdldENvbW1lbnRzIiwKICAgICAgICAvLyAgIGAvY29tbWVudC8ke3RoaXMubW9kaWZ5Q29tbWVudC5pc2JufWAKICAgICAgICAvLyApOwoKICAgICAgICBfdGhpczIuJGVtaXQoIm1vZGlmeS1jb21tZW50LWNhbmNlbCIsIGZhbHNlKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlQ29tbWVudENhbmNlbDogZnVuY3Rpb24gdXBkYXRlQ29tbWVudENhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgibW9kaWZ5LWNvbW1lbnQtY2FuY2VsIiwgZmFsc2UpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CommentWrite.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,IAAA,MAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA,KADA;AAEA,IAAA,aAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA;AAFA,GATA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AAAA;;AACA,MAAA,IAAA,CACA,IADA,CACA,WADA,EACA;AACA,QAAA,SAAA,EAAA,KAAA,SADA;AAEA,QAAA,OAAA,EAAA,KAAA,OAFA;AAGA,QAAA,KAAA,EAAA,KAAA,KAHA;AAIA,QAAA,MAAA,EAAA;AAJA,OADA,EAOA,IAPA,CAOA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AACA,YAAA,GAAA,GAAA,oBAAA;;AACA,YAAA,IAAA,KAAA,SAAA,EAAA;AACA,UAAA,GAAA,GAAA,cAAA;AACA;;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,CALA,CAOA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,OAhBA;AAiBA,KAnBA;AAoBA,IAAA,aApBA,2BAoBA;AAAA;;AACA,MAAA,IAAA,CACA,GADA,aACA;AACA,QAAA,UAAA,EAAA,KAAA,aAAA,CAAA,UADA;AAEA,QAAA,OAAA,EAAA,KAAA,aAAA,CAAA;AAFA,OADA,EAKA,IALA,CAKA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AACA,YAAA,GAAA,GAAA,oBAAA;;AACA,YAAA,IAAA,KAAA,SAAA,EAAA;AACA,UAAA,GAAA,GAAA,cAAA;AACA;;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,CALA,CAOA;AACA;AACA;AACA;AACA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,uBAAA,EAAA,KAAA;AACA,OAlBA;AAmBA,KAxCA;AAyCA,IAAA,mBAzCA,iCAyCA;AACA,WAAA,KAAA,CAAA,uBAAA,EAAA,KAAA;AACA;AA3CA;AAbA,CAAA","sourcesContent":["<template>\r\n  <b-row v-if=\"this.modifyComment != null\" class=\"mb-3 mt-2\">\r\n    <b-col cols=\"10\">\r\n      <b-form-textarea\r\n        id=\"comment\"\r\n        placeholder=\"도서평 입력...\"\r\n        v-model=\"modifyComment.comment\"\r\n        rows=\"2\"\r\n      ></b-form-textarea>\r\n    </b-col>\r\n    <b-col>\r\n      <b-button variant=\"outline-info\" class=\"mr-2 h-100\" @click=\"updateComment\"\r\n        >수정</b-button\r\n      >\r\n      <b-button\r\n        variant=\"outline-danger\"\r\n        class=\"h-100\"\r\n        @click=\"updateCommentCancel\"\r\n        >취소</b-button\r\n      >\r\n    </b-col>\r\n  </b-row>\r\n  <b-row v-else class=\"mb-3 mt-2\">\r\n    <b-col cols=\"11\">\r\n      <b-form-textarea\r\n        id=\"comment\"\r\n        placeholder=\"도서평 입력...\"\r\n        v-model=\"comment\"\r\n        rows=\"2\"\r\n      ></b-form-textarea>\r\n    </b-col>\r\n    <b-col\r\n      ><b-button variant=\"dark\" class=\"h-100\" @click=\"registComment\"\r\n        >등록</b-button\r\n      ></b-col\r\n    >\r\n  </b-row>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport http from \"@/util/http-common\";\r\n\r\nexport default {\r\n  name: \"commentwrite\",\r\n  data() {\r\n    return {\r\n      // 차후 작성자 이름은 로그인 구현후 로그인한 사용자로 바꾼다.\r\n      user_name: \"김계희\",\r\n      comment: \"\",\r\n    };\r\n  },\r\n  props: {\r\n    qnAno: { type: Number },\r\n    modifyComment: { type: Object },\r\n  },\r\n  methods: {\r\n    registComment() {\r\n      http\r\n        .post(\"/comment/\", {\r\n          user_name: this.user_name,\r\n          comment: this.comment,\r\n          qnano: this.qnAno,\r\n          userid: \"ssafy\",\r\n        })\r\n        .then(({ data }) => {\r\n          let msg = \"등록 처리시 문제가 발생했습니다.\";\r\n          if (data === \"success\") {\r\n            msg = \"등록이 완료되었습니다.\";\r\n          }\r\n          alert(msg);\r\n\r\n          // 작성글 지우기\r\n          this.comment = \"\";\r\n        });\r\n    },\r\n    updateComment() {\r\n      http\r\n        .put(`/comment`, {\r\n          comment_no: this.modifyComment.comment_no,\r\n          comment: this.modifyComment.comment,\r\n        })\r\n        .then(({ data }) => {\r\n          let msg = \"수정 처리시 문제가 발생했습니다.\";\r\n          if (data === \"success\") {\r\n            msg = \"수정이 완료되었습니다.\";\r\n          }\r\n          alert(msg);\r\n\r\n          // 도서평(댓글) 얻기.\r\n          // this.$store.dispatch(\r\n          //   \"getComments\",\r\n          //   `/comment/${this.modifyComment.isbn}`\r\n          // );\r\n          this.$emit(\"modify-comment-cancel\", false);\r\n        });\r\n    },\r\n    updateCommentCancel() {\r\n      this.$emit(\"modify-comment-cancel\", false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components/qna/child"}]}