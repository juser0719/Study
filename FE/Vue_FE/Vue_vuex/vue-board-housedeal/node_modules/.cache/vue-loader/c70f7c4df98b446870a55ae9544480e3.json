{"remainingRequest":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/src/components/qna/child/CommentWrite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/src/components/qna/child/CommentWrite.vue","mtime":1637197582619},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jeon-ungjae/Desktop/woong/Coding/Study/FE/Vue_FE/Vue_vuex/vue-board-housedeal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaHR0cCBmcm9tICJAL3V0aWwvaHR0cC1jb21tb24iOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJjb21tZW50d3JpdGUiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDssKjtm4Qg7J6R7ISx7J6QIOydtOumhOydgCDroZzqt7jsnbgg6rWs7ZiE7ZuEIOuhnOq3uOyduO2VnCDsgqzsmqnsnpDroZwg67CU6r6864ukLg0KICAgICAgdXNlcl9uYW1lOiAi6rmA6rOE7Z2sIiwNCiAgICAgIGNvbW1lbnQ6ICIiLA0KICAgIH07DQogIH0sDQogIHByb3BzOiB7DQogICAgcW5Bbm86IHsgdHlwZTogTnVtYmVyIH0sDQogICAgbW9kaWZ5Q29tbWVudDogeyB0eXBlOiBPYmplY3QgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHJlZ2lzdENvbW1lbnQoKSB7DQogICAgICBodHRwDQogICAgICAgIC5wb3N0KCIvY29tbWVudC8iLCB7DQogICAgICAgICAgdXNlcl9uYW1lOiB0aGlzLnVzZXJfbmFtZSwNCiAgICAgICAgICBjb21tZW50OiB0aGlzLmNvbW1lbnQsDQogICAgICAgICAgcW5hbm86IHRoaXMucW5Bbm8sDQogICAgICAgICAgdXNlcmlkOiAic3NhZnkiLA0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgICBsZXQgbXNnID0gIuuTseuhnSDsspjrpqzsi5wg66y47KCc6rCAIOuwnOyDne2WiOyKteuLiOuLpC4iOw0KICAgICAgICAgIGlmIChkYXRhID09PSAic3VjY2VzcyIpIHsNCiAgICAgICAgICAgIG1zZyA9ICLrk7HroZ3snbQg7JmE66OM65CY7JeI7Iq164uI64ukLiI7DQogICAgICAgICAgfQ0KICAgICAgICAgIGFsZXJ0KG1zZyk7DQoNCiAgICAgICAgICAvLyDsnpHshLHquIAg7KeA7Jqw6riwDQogICAgICAgICAgdGhpcy5jb21tZW50ID0gIiI7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgdXBkYXRlQ29tbWVudCgpIHsNCiAgICAgIGh0dHANCiAgICAgICAgLnB1dChgL2NvbW1lbnRgLCB7DQogICAgICAgICAgY29tbWVudF9ubzogdGhpcy5tb2RpZnlDb21tZW50LmNvbW1lbnRfbm8sDQogICAgICAgICAgY29tbWVudDogdGhpcy5tb2RpZnlDb21tZW50LmNvbW1lbnQsDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICAgIGxldCBtc2cgPSAi7IiY7KCVIOyymOumrOyLnCDrrLjsoJzqsIAg67Cc7IOd7ZaI7Iq164uI64ukLiI7DQogICAgICAgICAgaWYgKGRhdGEgPT09ICJzdWNjZXNzIikgew0KICAgICAgICAgICAgbXNnID0gIuyImOygleydtCDsmYTro4zrkJjsl4jsirXri4jri6QuIjsNCiAgICAgICAgICB9DQogICAgICAgICAgYWxlcnQobXNnKTsNCg0KICAgICAgICAgIC8vIOuPhOyEnO2PiSjrjJPquIApIOyWu+q4sC4NCiAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgNCiAgICAgICAgICAvLyAgICJnZXRDb21tZW50cyIsDQogICAgICAgICAgLy8gICBgL2NvbW1lbnQvJHt0aGlzLm1vZGlmeUNvbW1lbnQuaXNibn1gDQogICAgICAgICAgLy8gKTsNCiAgICAgICAgICB0aGlzLiRlbWl0KCJtb2RpZnktY29tbWVudC1jYW5jZWwiLCBmYWxzZSk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgdXBkYXRlQ29tbWVudENhbmNlbCgpIHsNCiAgICAgIHRoaXMuJGVtaXQoIm1vZGlmeS1jb21tZW50LWNhbmNlbCIsIGZhbHNlKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["CommentWrite.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentWrite.vue","sourceRoot":"src/components/qna/child","sourcesContent":["<template>\r\n  <b-row v-if=\"this.modifyComment != null\" class=\"mb-3 mt-2\">\r\n    <b-col cols=\"10\">\r\n      <b-form-textarea\r\n        id=\"comment\"\r\n        placeholder=\"도서평 입력...\"\r\n        v-model=\"modifyComment.comment\"\r\n        rows=\"2\"\r\n      ></b-form-textarea>\r\n    </b-col>\r\n    <b-col>\r\n      <b-button variant=\"outline-info\" class=\"mr-2 h-100\" @click=\"updateComment\"\r\n        >수정</b-button\r\n      >\r\n      <b-button\r\n        variant=\"outline-danger\"\r\n        class=\"h-100\"\r\n        @click=\"updateCommentCancel\"\r\n        >취소</b-button\r\n      >\r\n    </b-col>\r\n  </b-row>\r\n  <b-row v-else class=\"mb-3 mt-2\">\r\n    <b-col cols=\"11\">\r\n      <b-form-textarea\r\n        id=\"comment\"\r\n        placeholder=\"도서평 입력...\"\r\n        v-model=\"comment\"\r\n        rows=\"2\"\r\n      ></b-form-textarea>\r\n    </b-col>\r\n    <b-col\r\n      ><b-button variant=\"dark\" class=\"h-100\" @click=\"registComment\"\r\n        >등록</b-button\r\n      ></b-col\r\n    >\r\n  </b-row>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport http from \"@/util/http-common\";\r\n\r\nexport default {\r\n  name: \"commentwrite\",\r\n  data() {\r\n    return {\r\n      // 차후 작성자 이름은 로그인 구현후 로그인한 사용자로 바꾼다.\r\n      user_name: \"김계희\",\r\n      comment: \"\",\r\n    };\r\n  },\r\n  props: {\r\n    qnAno: { type: Number },\r\n    modifyComment: { type: Object },\r\n  },\r\n  methods: {\r\n    registComment() {\r\n      http\r\n        .post(\"/comment/\", {\r\n          user_name: this.user_name,\r\n          comment: this.comment,\r\n          qnano: this.qnAno,\r\n          userid: \"ssafy\",\r\n        })\r\n        .then(({ data }) => {\r\n          let msg = \"등록 처리시 문제가 발생했습니다.\";\r\n          if (data === \"success\") {\r\n            msg = \"등록이 완료되었습니다.\";\r\n          }\r\n          alert(msg);\r\n\r\n          // 작성글 지우기\r\n          this.comment = \"\";\r\n        });\r\n    },\r\n    updateComment() {\r\n      http\r\n        .put(`/comment`, {\r\n          comment_no: this.modifyComment.comment_no,\r\n          comment: this.modifyComment.comment,\r\n        })\r\n        .then(({ data }) => {\r\n          let msg = \"수정 처리시 문제가 발생했습니다.\";\r\n          if (data === \"success\") {\r\n            msg = \"수정이 완료되었습니다.\";\r\n          }\r\n          alert(msg);\r\n\r\n          // 도서평(댓글) 얻기.\r\n          // this.$store.dispatch(\r\n          //   \"getComments\",\r\n          //   `/comment/${this.modifyComment.isbn}`\r\n          // );\r\n          this.$emit(\"modify-comment-cancel\", false);\r\n        });\r\n    },\r\n    updateCommentCancel() {\r\n      this.$emit(\"modify-comment-cancel\", false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}